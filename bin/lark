#!/usr/bin/env node

var program = require('commander');
var fs = require('fs');
var path = require('path');
var rootPath = require('app-root-path').toString();
var shell = require('shelljs');

var pkg = require('../package.json');
var version = pkg.version;
var cp = shell.cp;
var cd = shell.cd;

program
  .version(version)
  .option('new <app>', 'create new app', create)
  .option('create <app>', 'create new app', create)
  .parse(process.argv);


function create(app) {
  var cwd = process.cwd();
  var appPath = path.join(cwd, app);
  var testPath = path.join(rootPath, 'node_modules', 'lark-router/*');
  if(fs.existsSync(appPath)){
    console.error(appPath + ' is not empty');
  }else{
    cp('-rf', testPath, appPath);
    cd(appPath);
  }
}

